# lexiconify
Converts lexicon md files to HTML and JSONLD. Lexicon md files are compact format definition lists and the generated HTML will include RDFa microformatting and the JSONLD will be valid based on specs from schema.org.

## Usage
lexiconify is intended to be run via npx in a properly prepared directory.

````bash
- lexicon
  |-- docs
  |   |-- index.html
  |   |-- lexicon.jsonld
  |-- src
  |   |-- lexicon.md
  |-- template
      |-- lexicon.mustache
````

Everything in the docs folder is generated by lexiconify, so just make sure the folder exists.

A properly formatted src file is a compact format definition list with one term per line. You can add HTML into either the term or definition, just keep it on one line. It has a markdown extension so that it is nice and readable in github, but it's really just HTML. Here is a properly formatted src file:

````html
<dl>Baseball Pitching Terms
<dt>Fastball<dd>A pitch thrown at or near maximum speed
<dt>Change Up<dd>A pitch that mimics a fastball's mechanics, but is held deeper in the hand so that it arrives more slowly and throws off the batters timing.
<dt>Curve Ball<dd>A pitch thrown with forward rotation that causes it to dive before reaching the batter.
````

Lexiconify uses the Mustache templating language. Since Mustache is "logic-less" we can't just pass in the json-ld as the view (Boo!). We have to pass in a view that fits the following format. Don't worry, this is done behind the scenes, it's provided here as a reference for your own Mustache template:

````js
lexica: [
  {
    termset: [{
      "@type":[String],
      "@id":String,
      "name":String
    }],
    terms: [{
      "@type": String,
      "@id": String,
      "name": String,
      "description": String,
      "inDefinedTermSet": String
    },
    ...
    ]
  }
]
````
If there are multiple lexicon markdown files, they will be concatentated into one view and passed to the Mustache template as addition elements in the lexica array.

You will need a ```template/lexicon.mustache``` file that is used to render the HTML. Here's a starting point, but feel free to make it yours:

````html
<h1>My Awesome List of Terms</h1>

{{#lexica}}
  <dl vocab="http://schema.org/">
  {{#termset}}
    <div typeof="{{@type}}">
      <h2>
        <a property="itemid" href="{{& @id}}"><span property="name">{{name}}</span></a>
      </h2>
    </div>
  {{/termset}}
  {{#terms}}
    <div typeof="DefinedTerm">
      <link property="url" href="{{& @id}}"/>
      <dt property="name">{{name}}</dt>
      <dd property="description">{{description}}</dd>
      <link property="inDefinedTermSet" href="{{#termset}}{{& @id}}{{/termset}}" />
    </div>
  {{/terms}}
  </dl>
{{/lexica}}
````